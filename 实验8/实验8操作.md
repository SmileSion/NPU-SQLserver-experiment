# 实验8——触发器

# 实验内容

```sql
--建立数据库
create database SchoolManager;
use SchoolManager;--使用该数据库

--根据要求创建五个关系表及其约束
create table S
(	Sno nvarchar(10) not null,
	Sname nvarchar(10),	
	Ssex nchar(1),
	Sage smallint,
	Sdept nvarchar(50),
	Scholarship money,
	primary key(Sno),
);
go
create table C	
(	Cno nvarchar(10) not null,
	Cname nvarchar(15) ,
	Ccredit decimal(4,1),	
	Pno nvarchar(10),
	primary key(Cno),
);
go
create table SC 
(	Sno nvarchar(10) not null,
	Cno nvarchar(10) not null,
	Grade numeric(5,1),
	primary key(Sno,Cno),
	foreign key (Sno) references S(Sno),
	foreign key (Cno) references C(Cno),
);
go
create table C_Plan
(	课程号 varchar(10),
	专业学级 varchar(4),
	专业代码 varchar(10),
	学年 varchar(4),
	开课学期 nvarchar(3),
	学生数 int,
);
go
create table C_Teacher
(	教师编号 varchar(10),
	课程号 varchar(10),
	专业学级 varchar(4),
	专业代码 varchar(10),
	学年 varchar(4),
	学期 varchar(3),
	学生数 int,
);


--插入数据
insert into S
values('2020302751','万叶','F','20','','4000'),
('2020302752','烛辞','F','20','法学','3000')
('2020302753','知一','M','20','SC','1000'),
('2020302754','诗音','F','18','CS','10000'),
('2020302755','瑞吉','F','20','SC','5000'),
('2020302756','零迪','M','19','SC','7000'),
('2020302757','凯子哥','M','20','SC','4000'),
('2020302758','女武神','F','20','PHOTO','2000'),
('2020302759','女鬼','F','20','刺客','9000'),
('2020302760','索菲亚','F','21','RU','3000'),
('2020302761','筱','M','19','艺术','7000'),
('2020302762','王晟睿','M','20','软件','4000'),
('2020302763','刘傲然','M','19','软件','5000'),
('2020302764','李达','M','21','CS','7000'),


--插入数据
insert into C
values('01','数据库原理','2','5'),
('02','摄影艺术','1','6'),
('03','轮回','3','5'),
('04','间谍潜入','2','4'),
('05','葡萄酒鉴赏','2','8'),
('06','VLOG教学','1','9')
--SC表插入数据
insert into SC
values('2020302751','01',NULL),
('2020302751','02',NULL),
('2020302751','03',NULL),
('2020302751','04',NULL),
('2020302751','05',NULL),
('2020302751','06',NULL),
('2020302752','01',NULL),
('2020302752','02',NULL),
('2020302752','03',NULL),
('2020302752','04',NULL),
('2020302752','05',NULL),
('2020302752','06',NULL),
('2020302753','01',NULL),
('2020302753','02',NULL),
('2020302753','03',NULL),
('2020302753','04',NULL),
('2020302753','05',NULL),
('2020302753','06',NULL),
('2020302754','01',NULL),
('2020302754','02',NULL),
('2020302754','03',NULL),
('2020302754','04',NULL),
('2020302754','05',NULL),
('2020302754','06',NULL),
('2020302755','01',NULL),
('2020302755','02',NULL),
('2020302755','03',NULL),
('2020302755','04',NULL),
('2020302755','05',NULL),
('2020302755','06',NULL),
('2020302756','03',NULL),
('2020302757','02',NULL),
('2020302758','04',NULL),
('2020302759','06',null),
('2020302760','05',NULL)


```

