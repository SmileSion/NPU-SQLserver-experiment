# 实验7：数据约束

# 实验操作

```sql
Create database SchoolManagement	--建SchoolManagement数据库
go
```

```
use SchoolManagement
create table S
(	Sno nvarchar(10) not null,
	Sname nvarchar(10) unique,	--(1)建立唯一性约束
	Ssex nchar(1),
	Sage smallint,
	Sdept nvarchar(50),
	Scholarship money,
	primary key(Sno),	--(1)a
);
```

```
alter table S drop constraint UQ__S__52723D2775DD36B8;	--b、取消Sname的唯一性约束
alter table S add constraint Sname unique(Sname)	;	--c、增加Sname的唯一性约束
```

```
create table C	--	d、创建C表
(	Cno nvarchar(10) not null,
	Cname nvarchar(15) ,
	Ccredit decimal(4,1) check(15>=Ccredit and Ccredit>=0),	--为学分Ccredit创建CHECK约束
	Pno nvarchar(10),
	primary key(Cno),
);
```

```
alter table C nocheck constraint CK__C__Ccredit__2A4B4B5E --停用CHECK约束
alter table C check constraint CK__C__Ccredit__2A4B4B5E --启用CHECK约束
```

```
create table SC --创建表SC，同时是设置主键和外键，对Grade设置default约束
(	Sno nvarchar(10) not null,
	Cno nvarchar(10) not null,
	Grade numeric(5,1) default 60,
	primary key(Sno,Cno),
	foreign key (Sno) references S(Sno),
	foreign key (Cno) references C(Cno),
)
```

```
alter table SC drop constraint DF__SC__Grade__2D27B809--取消default约束
alter table SC add constraint Grade default(0) for Grade --添加default约束，使默认值为0
```



